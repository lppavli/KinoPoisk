# Сервис избранных фильмов
## Техническое задание
Нужно создать веб-сервис, который будет сохранять понравившиеся фильмы с КиноПоиска и давать возможность полнотекстового поиска по сохраненным фильмам. 
Требования к сервису.
Должна быть возможность сохранять понравившиеся фильмы с КиноПоиска указав ссылку на страницу с фильмом. Для этого используем следующие инструменты:
Используя фреймворк Flask нужно предоставить API для получения от пользователя ссылки на понравившиеся фильмы с КиноПоиска. Не забываем добавить тесты на pytest для тестирования API.
После получения ссылки нужно cпарсить информацию о фильме расположенного по этой ссылке. С КиноПоиска забираем следующую информацию:
- Название фильма.
- Актёров.
- Описание.
- Дата выхода в прокат.
- Страна производства.
- Жанр.
- Режиссёр.
После того как спарсили информацию, кладём её в Postgres.
Информацию о “Название фильма”, “Актёров” и “Описание”, также сохраняем в elasticsearch для дальнейшего поиска среди фильмов.
Должна быть возможность полнотекстового поиска по сохраненным фильмам. Для этого к нашему API разработанного на Flask нужно добавить API для поиска фильмов.
Сервис должен быть легко развертываемым, следовательно, всё нужно упаковать в docker-контейнеры и описать их запуск в docker-compose. По результату выполнения тестового задания должны быть описаны следующие сервисы в  docker-compose:
API на фреймворке Flask.
Postgres.
elasticsearch.
## Подготовка переменных окружения
```angular2html
cp .env.example .env
```
## Локальный запуск проекта (из корневой директории)
```angular2html
flask run --debug
```
## Тестирование ElasticSearch
```angular2html
http://localhost:9200/films/_doc/430
http://localhost:9200/films/_search?q=title:шрэк
```
## Тестирование API (открыть в браузере)
```angular2html
http://localhost:5000/save_film?link=https://www.kinopoisk.ru/film/430/
http://localhost:5000/movie?title=шрэк
```
## Запуск проекта в контейнере
```angular2html
docker-compose up -d
```
## Запуск тестов
```angular2html
docker exec -it kinoapp pytest
```